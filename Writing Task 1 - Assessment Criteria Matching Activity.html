<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Writing Task 1 - Assessment Criteria Matching Activity</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f9fc;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #4a6fa5;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #5d7a9c;
            font-size: 1.1rem;
        }
        
        .instructions {
            background-color: #e8f4fc;
            border-radius: 8px;
            padding: 15px 20px;
            margin-bottom: 25px;
            border-left: 4px solid #4a6fa5;
        }
        
        .instructions h2 {
            margin-top: 0;
            color: #2c3e50;
            font-size: 1.3rem;
        }
        
        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .criteria-section, .skills-section {
            flex: 1;
            min-width: 300px;
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .section-title {
            background-color: #4a6fa5;
            color: white;
            padding: 10px 15px;
            border-radius: 6px;
            margin: -20px -20px 20px -20px;
            font-size: 1.2rem;
        }
        
        .criteria-item {
            background-color: #f0f7ff;
            border: 2px dashed #a3c2e0;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
            min-height: 120px;
        }
        
        .criteria-name {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .skill-item {
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 12px 15px;
            margin-bottom: 10px;
            cursor: move;
            transition: all 0.2s;
        }
        
        .skill-item:hover {
            background-color: #e3f2fd;
            transform: translateY(-2px);
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.1);
        }
        
        .skill-letter {
            display: inline-block;
            background-color: #4a6fa5;
            color: white;
            width: 24px;
            height: 24px;
            text-align: center;
            line-height: 24px;
            border-radius: 50%;
            margin-right: 10px;
            font-weight: bold;
        }
        
        .match-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
            min-height: 35px;
        }
        
        .matched-skill {
            background-color: #e1f5e1;
            border: 1px solid #4caf50;
            border-radius: 4px;
            padding: 5px 10px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
        }
        
        .remove-match {
            background-color: #ff6b6b;
            color: white;
            border: none;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            margin-left: 8px;
            cursor: pointer;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .controls {
            text-align: center;
            margin: 30px 0;
        }
        
        button {
            background-color: #4a6fa5;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            margin: 0 10px;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #3a5a80;
        }
        
        #checkBtn {
            background-color: #2e7d32;
        }
        
        #checkBtn:hover {
            background-color: #1b5e20;
        }
        
        #resetBtn {
            background-color: #757575;
        }
        
        #resetBtn:hover {
            background-color: #5d5d5d;
        }
        
        .results {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            display: none;
        }
        
        .results-title {
            color: #2c3e50;
            border-bottom: 2px solid #4a6fa5;
            padding-bottom: 10px;
            margin-top: 0;
        }
        
        .correct {
            color: #2e7d32;
            font-weight: bold;
        }
        
        .incorrect {
            color: #c62828;
            font-weight: bold;
        }
        
        .answer-key {
            margin-top: 30px;
            background-color: #f0f7ff;
            border-radius: 8px;
            padding: 15px;
        }
        
        .answer-key h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        
        .answer-row {
            display: flex;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px dashed #ccc;
        }
        
        .answer-criteria {
            font-weight: bold;
            width: 200px;
            color: #2c3e50;
        }
        
        .answer-skills {
            flex: 1;
        }
        
        .skill-answer {
            display: inline-block;
            background-color: #e1f5e1;
            border: 1px solid #4caf50;
            border-radius: 4px;
            padding: 3px 8px;
            margin-right: 8px;
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Writing Task 1 - Assessment Criteria Matching Activity</h1>
        <p class="subtitle">Match each skill/strategy to the correct assessment criteria</p>
    </header>
    
    <div class="instructions">
        <h2>Instructions</h2>
        <p>Drag and drop the skills/strategies (A-R) into the appropriate assessment criteria boxes. You can also click on a skill to add it to a criteria or click the "X" to remove a match.</p>
        <p>When you're finished, click the "Check Answers" button to see how well you did.</p>
    </div>
    
    <div class="container">
        <div class="criteria-section">
            <div class="section-title">Assessment Criteria</div>
            
            <div class="criteria-item" id="content-task">
                <div class="criteria-name">Content/Task</div>
                <div class="match-container" data-criteria="content">
                    <!-- Matched skills will appear here -->
                </div>
            </div>
            
            <div class="criteria-item" id="coherence-cohesion">
                <div class="criteria-name">Coherence and Cohesion</div>
                <div class="match-container" data-criteria="coherence">
                    <!-- Matched skills will appear here -->
                </div>
            </div>
            
            <div class="criteria-item" id="vocabulary">
                <div class="criteria-name">Vocabulary</div>
                <div class="match-container" data-criteria="vocabulary">
                    <!-- Matched skills will appear here -->
                </div>
            </div>
            
            <div class="criteria-item" id="grammar">
                <div class="criteria-name">Grammar</div>
                <div class="match-container" data-criteria="grammar">
                    <!-- Matched skills will appear here -->
                </div>
            </div>
        </div>
        
        <div class="skills-section">
            <div class="section-title">Skills and Strategies (A-R)</div>
            <div id="skills-list">
                <!-- Skills will be populated by JavaScript -->
            </div>
        </div>
    </div>
    
    <div class="controls">
        <button id="checkBtn">Check Answers</button>
        <button id="resetBtn">Reset Activity</button>
    </div>
    
    <div class="results" id="results">
        <h2 class="results-title">Your Results</h2>
        <p id="score-text">You scored: <span id="score">0</span>/18 correct matches</p>
        <p id="feedback">Feedback will appear here after checking your answers.</p>
        
        <div class="answer-key">
            <h3>Answer Key</h3>
            <div class="answer-row">
                <div class="answer-criteria">Content/Task</div>
                <div class="answer-skills">
                    <span class="skill-answer">E. Include data to support points</span>
                    <span class="skill-answer">H. Provide an overview</span>
                    <span class="skill-answer">N. Select the most important information</span>
                    <span class="skill-answer">Q. Write at least 150 words</span>
                </div>
            </div>
            <div class="answer-row">
                <div class="answer-criteria">Coherence and Cohesion</div>
                <div class="answer-skills">
                    <span class="skill-answer">A. Use linkers appropriately</span>
                    <span class="skill-answer">G. Use paragraphs appropriately</span>
                    <span class="skill-answer">K. Use reference words to avoid repetition</span>
                    <span class="skill-answer">R. Present information in a logical order</span>
                </div>
            </div>
            <div class="answer-row">
                <div class="answer-criteria">Vocabulary</div>
                <div class="answer-skills">
                    <span class="skill-answer">B. Choose the right words</span>
                    <span class="skill-answer">D. Choose words that go well together</span>
                    <span class="skill-answer">M. Spell words correctly</span>
                    <span class="skill-answer">P. Use precise words and expressions</span>
                </div>
            </div>
            <div class="answer-row">
                <div class="answer-criteria">Grammar</div>
                <div class="answer-skills">
                    <span class="skill-answer">C. Use the correct punctuation</span>
                    <span class="skill-answer">F. Use the right tense and voice</span>
                    <span class="skill-answer">I. Use words in the correct form</span>
                    <span class="skill-answer">J. Use both simple and complex sentences</span>
                    <span class="skill-answer">L. Use the right prepositions</span>
                    <span class="skill-answer">O. Use comparative structures correctly</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Correct answers from the document
        const correctAnswers = {
            'content': ['E', 'H', 'N', 'Q'],
            'coherence': ['A', 'G', 'K', 'R'],
            'vocabulary': ['B', 'D', 'M', 'P'],
            'grammar': ['C', 'F', 'I', 'J', 'L', 'O']
        };
        
        // Skills data
        const skills = [
            {letter: 'A', text: 'Use linkers appropriately'},
            {letter: 'B', text: 'Choose the right words'},
            {letter: 'C', text: 'Use the correct punctuation'},
            {letter: 'D', text: 'Choose words that go well together'},
            {letter: 'E', text: 'Include data to support points'},
            {letter: 'F', text: 'Use the right tense and voice'},
            {letter: 'G', text: 'Use paragraphs appropriately'},
            {letter: 'H', text: 'Provide an overview'},
            {letter: 'I', text: 'Use words in the correct form'},
            {letter: 'J', text: 'Use both simple and complex sentences'},
            {letter: 'K', text: 'Use reference words to avoid repetition'},
            {letter: 'L', text: 'Use the right prepositions'},
            {letter: 'M', text: 'Spell words correctly'},
            {letter: 'N', text: 'Select the most important information'},
            {letter: 'O', text: 'Use comparative structures correctly'},
            {letter: 'P', text: 'Use precise words and expressions'},
            {letter: 'Q', text: 'Write at least 150 words'},
            {letter: 'R', text: 'Present information in a logical order'}
        ];
        
        // Current user matches
        let userMatches = {
            'content': [],
            'coherence': [],
            'vocabulary': [],
            'grammar': []
        };
        
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            renderSkillsList();
            setupEventListeners();
        });
        
        // Render the skills list
        function renderSkillsList() {
            const skillsList = document.getElementById('skills-list');
            skillsList.innerHTML = '';
            
            skills.forEach(skill => {
                const skillElement = document.createElement('div');
                skillElement.className = 'skill-item';
                skillElement.id = `skill-${skill.letter}`;
                skillElement.innerHTML = `
                    <span class="skill-letter">${skill.letter}</span>
                    ${skill.text}
                `;
                skillElement.setAttribute('draggable', 'true');
                skillElement.dataset.letter = skill.letter;
                skillsList.appendChild(skillElement);
            });
        }
        
        // Set up event listeners
        function setupEventListeners() {
            // Drag and drop functionality
            const skillItems = document.querySelectorAll('.skill-item');
            const matchContainers = document.querySelectorAll('.match-container');
            
            // Add drag events to skill items
            skillItems.forEach(item => {
                item.addEventListener('dragstart', handleDragStart);
            });
            
            // Add drop events to match containers
            matchContainers.forEach(container => {
                container.addEventListener('dragover', handleDragOver);
                container.addEventListener('drop', handleDrop);
            });
            
            // Click events for skills (alternative to drag and drop)
            document.getElementById('skills-list').addEventListener('click', function(e) {
                const skillItem = e.target.closest('.skill-item');
                if (skillItem) {
                    openSkillSelection(skillItem.dataset.letter);
                }
            });
            
            // Check answers button
            document.getElementById('checkBtn').addEventListener('click', checkAnswers);
            
            // Reset button
            document.getElementById('resetBtn').addEventListener('click', resetActivity);
        }
        
        // Drag and drop handlers
        function handleDragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.dataset.letter);
        }
        
        function handleDragOver(e) {
            e.preventDefault();
        }
        
        function handleDrop(e) {
            e.preventDefault();
            const letter = e.dataTransfer.getData('text/plain');
            const criteria = e.target.closest('.match-container').dataset.criteria;
            addMatch(letter, criteria);
        }
        
        // Open skill selection modal (simplified as direct assignment for this example)
        function openSkillSelection(letter) {
            // Find which criteria don't have this letter already
            const availableCriteria = [];
            for (const criteria in userMatches) {
                if (!userMatches[criteria].includes(letter)) {
                    availableCriteria.push(criteria);
                }
            }
            
            // If already placed in a criteria, ask to move or remove
            let currentCriteria = null;
            for (const criteria in userMatches) {
                if (userMatches[criteria].includes(letter)) {
                    currentCriteria = criteria;
                    break;
                }
            }
            
            if (currentCriteria) {
                // Ask to move or remove
                const newCriteria = prompt(`Skill ${letter} is already in ${currentCriteria}. Enter new criteria (content, coherence, vocabulary, grammar) or type "remove" to remove it:`, currentCriteria);
                
                if (newCriteria && newCriteria !== currentCriteria) {
                    if (newCriteria === 'remove') {
                        removeMatch(letter, currentCriteria);
                    } else if (['content', 'coherence', 'vocabulary', 'grammar'].includes(newCriteria)) {
                        removeMatch(letter, currentCriteria);
                        addMatch(letter, newCriteria);
                    }
                }
            } else {
                // Ask which criteria to add to
                const criteria = prompt(`Add skill ${letter} to which criteria? (content, coherence, vocabulary, grammar):`);
                if (criteria && ['content', 'coherence', 'vocabulary', 'grammar'].includes(criteria)) {
                    addMatch(letter, criteria);
                }
            }
        }
        
        // Add a match
        function addMatch(letter, criteria) {
            // Check if already in this criteria
            if (userMatches[criteria].includes(letter)) {
                return;
            }
            
            // Remove from any other criteria first
            for (const otherCriteria in userMatches) {
                const index = userMatches[otherCriteria].indexOf(letter);
                if (index > -1) {
                    userMatches[otherCriteria].splice(index, 1);
                    updateCriteriaDisplay(otherCriteria);
                }
            }
            
            // Add to new criteria
            userMatches[criteria].push(letter);
            updateCriteriaDisplay(criteria);
        }
        
        // Remove a match
        function removeMatch(letter, criteria) {
            const index = userMatches[criteria].indexOf(letter);
            if (index > -1) {
                userMatches[criteria].splice(index, 1);
                updateCriteriaDisplay(criteria);
            }
        }
        
        // Update the display for a criteria
        function updateCriteriaDisplay(criteria) {
            const container = document.querySelector(`.match-container[data-criteria="${criteria}"]`);
            container.innerHTML = '';
            
            userMatches[criteria].forEach(letter => {
                const skill = skills.find(s => s.letter === letter);
                const matchedElement = document.createElement('div');
                matchedElement.className = 'matched-skill';
                matchedElement.innerHTML = `
                    <span class="skill-letter">${letter}</span>
                    ${skill.text}
                    <button class="remove-match" data-letter="${letter}">X</button>
                `;
                container.appendChild(matchedElement);
            });
            
            // Add remove event listeners
            container.querySelectorAll('.remove-match').forEach(button => {
                button.addEventListener('click', function() {
                    const letter = this.dataset.letter;
                    removeMatch(letter, criteria);
                });
            });
        }
        
        // Check answers
        function checkAnswers() {
            let correctCount = 0;
            let totalCount = 0;
            
            // Count total possible matches
            for (const criteria in correctAnswers) {
                totalCount += correctAnswers[criteria].length;
            }
            
            // Check each criteria
            for (const criteria in correctAnswers) {
                const correct = correctAnswers[criteria];
                const user = userMatches[criteria];
                
                // Count correct matches for this criteria
                user.forEach(letter => {
                    if (correct.includes(letter)) {
                        correctCount++;
                    }
                });
            }
            
            // Display results
            const resultsDiv = document.getElementById('results');
            const scoreElement = document.getElementById('score');
            const feedbackElement = document.getElementById('feedback');
            
            scoreElement.textContent = `${correctCount}/${totalCount}`;
            
            const percentage = (correctCount / totalCount) * 100;
            let feedback = '';
            
            if (percentage === 100) {
                feedback = '<span class="correct">Excellent! You perfectly matched all skills to the correct criteria.</span>';
            } else if (percentage >= 80) {
                feedback = '<span class="correct">Very good! You have a strong understanding of the assessment criteria.</span>';
            } else if (percentage >= 60) {
                feedback = '<span class="correct">Good effort! Review the answer key to see which ones you missed.</span>';
            } else if (percentage >= 40) {
                feedback = '<span class="incorrect">Keep practicing! Review the criteria definitions and try again.</span>';
            } else {
                feedback = '<span class="incorrect">Take a closer look at the answer key and try the activity again.</span>';
            }
            
            feedbackElement.innerHTML = feedback;
            resultsDiv.style.display = 'block';
            
            // Scroll to results
            resultsDiv.scrollIntoView({ behavior: 'smooth' });
        }
        
        // Reset the activity
        function resetActivity() {
            userMatches = {
                'content': [],
                'coherence': [],
                'vocabulary': [],
                'grammar': []
            };
            
            // Update all displays
            for (const criteria in userMatches) {
                updateCriteriaDisplay(criteria);
            }
            
            // Hide results
            document.getElementById('results').style.display = 'none';
        }
    </script>
</body>
</html>